<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
        <title>Table of Contents (TOC) Widget for ArcGIS JavaScript API: Examples</title>
        <link rel="stylesheet" type="text/css" href="http://code.google.com/css/codesite.css"/>
        <link rel="stylesheet" type="text/css" href="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/util/docs/template/local_extensions.css"/>
        <script type="text/javascript" src="http://code.google.com/js/prettify.js">
        </script>
    </head>
    <body onload="prettyPrint()">
        <div>
            <a name="Top"></a>
            <h1><a></a>Table of Content(TOC) Widget for ArcGIS JavaScript API: Examples</h1>
            <p>
                <b><a href="reference.html">Class References</a> | <a href="../examples/toc.html">Live Example </a></b>
            </p>
        </div>
        <div>
            <h2><a name="About"></a>About</h2>
            <p>
                This library is a Table of Content widget for ArcGIS Server JavaScript API. 
            </p>
            <p>
                The widget provides a tree-like structure for layer list and legend combination. It provides 2 styles by setting the "
                <code>
                    style
                </code>" value in constructor parameter:
                <table>
                    <tr>
                        <td>
                            standard
                        </td>
                        <td>
                            It's similar to ArcMap's Table of Content. Legends are nested underneath layer name. 
                            Click +/- icon to expand the legend or layer group. Click check box to turn on/off layers (dynamic layer only, tiled service will not display checkbox) 
                            <br>
                            <img src="standard.png"/>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            inline
                        </td>
                        <td>
                            It's similar to Google Earth's "Layers" component. When possible, the legend icon is placed in front of layer name, instead of nested below. 
                            It uses checkboxes in addition to +- button to toggle nested legends. When check on a layer, legend is expanded automatically, and vise versa.
                            <br>
                            <img src="inline.png"/>
                        </td>
                    </tr>
                </table>
            </p>
            <p>
                More features:
                <ul>
                    <li>
                        scale threshold: It respects the scale threshold of layers, if a layer is out of scale, it will be displayed differently and check box will be disabled. 
                        or you can hide it completely by add css class 
                        <code>
                            agsTOCOutScale
                        </code>
                        and set 
                        <code>
                            {display: none}
                        </code>
                    </li>
                    <li>
                        transparency slider: It can optionally have a slider for each map service, to adjust transparency.
                    </li>
                    <li>
                        default expansion: If a layer is visible, it's legend will be expanded by default, otherwise collapsed.
                    </li>
                </ul>
            </p>
            <p>
                The library has a default css style sheet, but the following CSS class can be overriden for additional style needs: 
                <pre><code>
                    .agsTOCNode,
                    .agsTOCContent,
                    .agsTOCOutScale,
                    .agsTOCService,
                    .agsTOCServiceLabel,
                    .agsTOCGroup,
                    .agsTOCGroupLabel,
                    .agsTOCLayerLabel,
                    .agsTOCLegendLabel
                </code></pre>
            </p>
        </div>
        <div>
            <h2><a name="HowTo"></a>Include Scripts</h2>
            <p>
            The widget uses 
            <code>
                agsjs
            </code>
            as namespace. 
            </code>Put the downloaded 
            <code>
                agsjs
            </code>
            folder under your application.
            underneath the agsjs folder, should have file named TOC.js and a sub folder css with file TOC.css. as in <img src="files.png"/>
            In your HTML page, inside the section to define djConfig: (make sure the path to folder agsjs is correct)<pre class="prettyprint">
             var djConfig = {
              parseOnLoad: true,
              baseUrl: './', 
              modulePaths: {
                'agsjs': '../path/to/agsjs'
              }
            };</pre>
        </p>
        <p>
            Then in the require section, add 
            <code>
                dojo.require("agsjs.TOC");
            </code>
            <pre class="prettyprint">
             ...
            dojo.require("esri.map");
            ...
            dojo.require("agsjs.TOC");
              </pre>
        </p>
        <div>
            <h2>Add a TOC widget</h2>
            <p> After the script is loaded, in the initilization code, 
        <pre class="prettyprint">
           dojo.connect(map, 'onLayersAddResult', function(results) {
                var inlineTOC = new agsjs.TOC({
                  map: map,
                  layerInfos: [{layer:dynaLayer: title:"Dyna"}],
                  style: 'inline',// or 'standard'
                  slider: true
                }, 'inlineDiv');
                inlineTOC.startup();
            ..
            }
        </pre>
        </p>
        
            <p>
                That&#39;s it! 
           
                <a href="../examples/toc.html">View example </a>. 
            </p>
        </div>
        <p></p><p></p><p></p><p></p>
        <script type="text/javascript">
            
            var _gaq = _gaq || [];
            _gaq.push(['_setAccount', 'UA-3946449-12']);
            _gaq.push(['_trackPageview']);
            
            (function() {
              var ga = document.createElement('script');
              ga.type = 'text/javascript';
              ga.async = true;
              ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
              var s = document.getElementsByTagName('script')[0];
              s.parentNode.insertBefore(ga, s);
            })();
        </script>
    </body>
</html>
